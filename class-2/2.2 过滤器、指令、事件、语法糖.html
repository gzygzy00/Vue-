<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .transRed {
      background-color: red;
    }
  </style>
</head>
<body>
<div id="dataApp">
  <!--è¿‡æ»¤å™¨ï¼Œ| åé¢å®šä¹‰çš„æ˜¯è¿‡æ»¤å™¨çš„åå­—-->
  {{ date }} <br>
  {{ date | formatDate }} <br>
  <!--è¿‡æ»¤å™¨çš„ä¸²è”-->
  <!--{{ date | filter1 | filter2 }} <br>-->
  <!--è¿‡æ»¤å™¨çš„å‚æ•°-->
  {{ date | formatDate('å¤©æ°”', 'æ™´')}} <br>
  <hr>
  <!--æŒ‡ä»¤å’Œäº‹ä»¶-->
  v-textæŒ‡ä»¤ï¼šå’Œ {{}} åŠŸèƒ½å®Œå…¨ä¸€æ ·ï¼Œè§£ææ–‡æœ¬<br>
  {{ apple }} <br>
  <span v-text='apple'></span> <br>
  <hr>
  v-htmlæŒ‡ä»¤ï¼šè§£æhtml <br>
  {{ banana }} <br>
  <span v-html="banana" style="background-color: black;"></span> <br>
  <hr>
  v-bindæŒ‡ä»¤ï¼šç»‘å®šæ´»çš„å±æ€§ <br>
  <div v-bind:class="className">bind</div>
  <div :class="className">bind</div>

  <hr>
  v-onæŒ‡ä»¤ï¼šç»‘å®šäº‹ä»¶ç›‘å¬å™¨ <br>
  <!--ä¸ºæŒ‰é’®æ·»åŠ ç›‘å¬æŒ‡ä»¤-->
  <button v-on:click="count">{{ countnum }}</button>
  <button @click="count">{{ countnum }}</button>


</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.7/dist/vue.js"></script>
<script>
  // éœ€æ±‚ï¼šåœ¨é¡µé¢ä¸­å®æ—¶æ˜¾ç¤ºå½“å‰æ—¶é—´
  // åœ¨æœˆä»½ã€æ—¥æœŸã€å°æ—¶<10çš„æ—¶å€™è¡¥0
  var plusDate = function (value) {
    return value < 10 ? '0' + value : value
  }

  var app = new Vue({
    el: '#dataApp',
    data: {
      date: new Date(),
      apple: 'ğŸ',
      banana: '<span style="color: yellow;">é¦™è•‰</span>',
      className: 'transRed',
      countnum: 0
    },
    methods: {
      count: function () {
        this.countnum += 1
      }
    },
    mounted: function () {
      // this å°±ä»£è¡¨vueå®ä¾‹
      // var _this = this  ä¸‹é¢å°±æ˜¯ _this.data = new Date()
      // å®šæ—¶å™¨
      this.timer = setInterval(function () {
        app.date = new Date()
      }, 1000)
    },
    // å®šä¹‰è¿‡æ»¤å™¨
    filters: {
      // è¿™é‡Œçš„valueå°±æ˜¯éœ€è¦è¿‡æ»¤çš„æ•°æ®ï¼Œå³ä¸Šé¢çš„date
      formatDate: function (value, a, b) {
        // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºdateç±»å‹
        var date = new Date(value)
        var year = date.getFullYear()
        var month = plusDate(date.getMonth() + 1)
        var day = plusDate(date.getDay())
        var hours = plusDate(date.getHours())
        var min = plusDate(date.getMinutes())
        var sec = plusDate(date.getSeconds())
        // å°†æ•´ç†å¥½çš„æ•°æ®è¿”å›
        return `ç°åœ¨æ˜¯${year}å¹´${month}æœˆ${day}æ—¥--${hours}ç‚¹${min}åˆ†${sec}ç§’+å‚æ•°ï¼š${a}+${b}`
      }
    },
    beforeDestroy: function () {
      // å¦‚æœå®šæ—¶å™¨å­˜åœ¨ï¼Œæ¸…é™¤å®šæ—¶å™¨
      if (this.timer) {
        clearInterval(this.timer)
      }
    }
  })
</script>
</body>
</html>